(this.webpackJsonproadaccident=this.webpackJsonproadaccident||[]).push([[0],{137:function(e){e.exports=JSON.parse('{"menu":{"menu":"Menu","home":"Home","appMaps":{"title":"Maps","roadaccident":"Road traffic accidents","citytree":"City trees","urbanobject":"Urban objects"},"city":"City","signin":"Signin","logout":"Logout"},"sidebar":{"filterTab":{"title":"Filters","from":"From","to":"To","vehicleManeuver":"Vehicle maneuver","description":"Description","violationsType":"Violations type","violators":"Violators","injured":"Injured","driver":"Driver","motorcyclist":"Motorcyclist","cyclist":"Cyclist","pedestrian":"Pedestrian","kid":"Kid","pubtrPassenger":"Public transport passenger","killed":"Killed","publicTransportInvolved":"Public transport involved","showOnlyMyAccidents":"Added by me","clear":"Clear","search":"Search","maneuversList":{"idLngForward":"Forward","idLngRightTurn":"Right turn","idLngLeftTurn":"Left turn","idLngBackward":"Backward"},"typeViolationsList":{"idLngRunningRedLight":"Running red light","idLngPriorityViolation":"Priority violation","idLngSelfCrashed":"Self-crashed","idLngDrunkDriving":"Drunk driving"},"violatorsList":{"idLngDriver":"Driver","idLngMotorcyclist":"Motorcyclist","idLngCyclist":"Cyclist","idLngPedestrian":"Pedestrian"}},"accidentTab":{"title":"Accident","latLng":"Lat/Lng","description":"Description","datetime":"Date time","vehicleManeuver":"Vehicle maneuver","violationsType":"Violations type","violators":"Violators","injured":"Injured:","killed":"Killed:","driverAndPassengers":"Driver and passengers","motorcyclist":"Motorcyclist","cyclist":"Cyclist","pedestrian":"Pedestrian","kid":"Kid","publicTransPassenger":"Public transport passenger","publicTransInvolved":"Public transport involved","delete":"Delete","close":"Close","save":"Save"}},"loginForm":{"title":"SIGN IN","username":"Username","password":"Password","rememberMe":"Remember me","wrongUsernamePassword.":"Wrong username or password.","login":"LOGIN","dontHaveAccount":"Don\'t have account?","signUp":"Sign up"},"registerForm":{"title":"SIGN UP","username":"Username","password":"Password","confirmPassword":"Confirm password","email":"E-mail","firstNameOptional":"Firstname (optional)","lastNameOptional":"Lastname (optional)","register":"Register","alreadyHaveAccount":"Already have an account?","login":"Login"},"words":{"hello":"Hello","requiredField":"Required field","deleting":"Deleting","confirmDeleting":"Are you sure you want to delete this accident?","delete":"Delete","cancel":"Cancel","done":"Done"}}')},138:function(e){e.exports=JSON.parse('{"menu":{"menu":"\u041c\u0435\u043d\u044e","home":"\u041d\u0430\u0447\u0430\u043b\u043e","appMaps":{"title":"\u041a\u0430\u0440\u0442\u0438","roadaccident":"\u041f\u044a\u0442\u043d\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u0438 \u043f\u0440\u043e\u0438\u0437\u0448\u0435\u0441\u0442\u0432\u0438\u044f","citytree":"\u0413\u0440\u0430\u0434\u0441\u043a\u0430 \u0440\u0430\u0441\u0442\u0438\u0442\u0435\u043b\u043d\u043e\u0441\u0442","urbanobject":"\u0413\u0440\u0430\u0434\u0441\u043a\u0438 \u043e\u0431\u0435\u043a\u0442\u0438"},"city":"\u0413\u0440\u0430\u0434","signin":"\u0412\u0445\u043e\u0434","logout":"\u0418\u0437\u0445\u043e\u0434"},"sidebar":{"filterTab":{"title":"\u0422\u044a\u0440\u0441\u0435\u043d\u0435","from":"\u041e\u0442","to":"\u0414\u043e","vehicleManeuver":"\u041c\u0430\u043d\u044c\u043e\u0432\u044a\u0440 \u043d\u0430 \u041c\u041f\u0421","description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","violationsType":"\u0412\u0438\u0434 \u043d\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435","violators":"\u041d\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043b\u0438","injured":"\u041f\u043e\u0441\u0442\u0440\u0430\u0434\u0430\u043b\u0438","driver":"\u0428\u043e\u0444\u044c\u043e\u0440","motorcyclist":"\u041c\u043e\u0442\u043e\u0446\u0438\u043a\u043b\u0438\u0441\u0442","cyclist":"\u0412\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u0438\u0441\u0442","pedestrian":"\u041f\u0435\u0448\u0435\u0445\u043e\u0434\u0435\u0446","kid":"\u0414\u0435\u0442\u0435","pubtrPassenger":"\u041f\u044a\u0442\u043d\u0438\u043a \u043d\u0430 \u0413\u0422","killed":"\u0423\u0431\u0438\u0442\u0438","publicTransportInvolved":"\u0413\u0422 \u0443\u0447\u0430\u0441\u0442\u0432\u0430 \u0432 \u041f\u0422\u041f","showOnlyMyAccidents":"\u041f\u043e\u043a\u0430\u0436\u0438 \u041f\u0422\u041f \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0438 \u043e\u0442 \u043c\u0435\u043d","clear":"\u0418\u0437\u0447\u0438\u0441\u0442\u0438","search":"\u0422\u044a\u0440\u0441\u0438","maneuversList":{"idLngForward":"\u041f\u0440\u0438 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u043f\u0440\u0435\u0434","idLngRightTurn":"\u041f\u0440\u0438 \u0437\u0430\u0432\u043e\u0439 \u043d\u0430\u0434\u044f\u0441\u043d\u043e","idLngLeftTurn":"\u041f\u0440\u0438 \u0437\u0430\u0432\u043e\u0439 \u043d\u0430\u043b\u044f\u0432\u043e","idLngBackward":"\u041f\u0440\u0438 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u0437\u0430\u0434"},"typeViolationsList":{"idLngRunningRedLight":"\u041f\u0440\u0435\u043c\u0438\u043d\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u0447\u0435\u0440\u0432\u0435\u043d\u043e","idLngPriorityViolation":"\u041e\u0442\u043d\u0435\u043c\u0430\u043d\u043e \u043d\u0430 \u043f\u0440\u0435\u0434\u0438\u043c\u0441\u0442\u0432\u043e","idLngSelfCrashed":"\u0421\u0430\u043c\u043e\u043a\u0430\u0442\u0430\u0441\u0442\u0440\u043e\u0444\u0438\u0440\u0430\u043b","idLngDrunkDriving":"\u0423\u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043d\u0430 \u0430\u043b\u043a\u043e\u0445\u043e\u043b/\u043d\u0430\u0440\u043a\u043e\u0442\u0438\u0446\u0438"},"violatorsList":{"idLngDriver":"\u0412\u043e\u0434\u0430\u0447","idLngMotorcyclist":"\u041c\u043e\u0442\u043e\u0446\u0438\u043a\u043b\u0438\u0441\u0442","idLngCyclist":"\u0412\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u0438\u0441\u0442","idLngPedestrian":"\u041f\u0435\u0448\u0435\u0445\u043e\u0434\u0435\u0446"}},"accidentTab":{"title":"\u041f\u0422\u041f","latLng":"Lat/Lng","description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","datetime":"\u0414\u0430\u0442\u0430 \u0438 \u0447\u0430\u0441","vehicleManeuver":"\u041c\u0430\u043d\u044c\u043e\u0432\u044a\u0440 \u043d\u0430 \u041c\u041f\u0421","violationsType":"\u0412\u0438\u0434 \u043d\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435","violators":"\u041d\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043b\u0438","injured":"\u041f\u043e\u0441\u0442\u0440:","killed":"\u0423\u0431\u0438\u0442\u0438:","driverAndPassengers":"\u0428\u043e\u0444\u044c\u043e\u0440 \u0438 \u043f\u044a\u0442\u043d\u0438\u0446\u0438","motorcyclist":"\u041c\u043e\u0442\u043e\u0446\u0438\u043a\u043b\u0438\u0441\u0442","cyclist":"\u0412\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u0438\u0441\u0442","pedestrian":"\u041f\u0435\u0448\u0435\u0445\u043e\u0434\u0435\u0446","kid":"\u0414\u0435\u0442\u0435","publicTransPassenger":"\u041f\u044a\u0442\u043d\u0438\u043a \u043d\u0430 \u0433\u0440\u0430\u0434\u0441\u043a\u0438 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442","publicTransInvolved":"\u0413\u0422 \u0443\u0447\u0430\u0441\u0442\u0432\u0430 \u0432 \u041f\u0422\u041f","delete":"\u0418\u0437\u0442\u0440\u0438\u0439","close":"\u0418\u0437\u0445\u043e\u0434","save":"\u0417\u0430\u043f\u0430\u0437\u0438"}},"loginForm":{"title":"\u0412\u0445\u043e\u0434","username":"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435","password":"\u041f\u0430\u0440\u043e\u043b\u0430","rememberMe":"\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u043c\u0435","wrongUsernamePassword":"\u0413\u0440\u0435\u0448\u043d\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435 \u0438/\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430.","login":"\u0412\u0425\u041e\u0414","dontHaveAccount":"\u041d\u044f\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442?","signUp":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 \u0441\u0435"},"registerForm":{"title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","username":"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435","password":"\u041f\u0430\u0440\u043e\u043b\u0430","confirmPassword":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u043f\u0430\u0440\u043e\u043b\u0430","email":"\u0418\u043c\u0435\u0439\u043b","firstNameOptional":"\u0418\u043c\u0435 (\u043d\u0435\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e)","lastNameOptional":"\u0424\u0430\u043c\u0438\u043b\u0438\u044f (\u043d\u0435\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e)","register":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 \u043c\u0435","alreadyHaveAccount":"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442?","login":"\u0412\u0445\u043e\u0434"},"words":{"hello":"\u0417\u0434\u0440\u0430\u0432\u0435\u0439","requiredField":"\u041f\u043e\u043b\u0435\u0442\u043e \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e","deleting":"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435","confirmDeleting":"\u041d\u0430\u0438\u0441\u0442\u0438\u043d\u0430 \u043b\u0438 \u0438\u0441\u043a\u0430\u0442\u0435 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0442\u043e\u0437\u0438 \u0438\u043d\u0446\u0438\u0434\u0435\u043d\u0442?","delete":"\u0418\u0437\u0442\u0440\u0438\u0439","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438","done":"\u0413\u043e\u0442\u043e\u0432\u043e"}}')},147:function(e,t,r){},148:function(e,t,r){},150:function(e,t,r){},180:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(25),a=r.n(i),c=r(83),o=r(11),s=(r(147),r(148),r(24)),l=r(9),d=r.n(l),u=r(16),b=r(3),j=(r(150),r(130)),m=r(115),p=r(56),v=r(45),f=r(60),O=r(197),h=r(1);var x=function(e){var t=e.currentCity,r=e.appname,i=e.onClickShowMenu,a=e.setLoginModalShow,o=e.authToken,s=e.setAuthToken,l=Object(n.useState)([]),x=Object(b.a)(l,2),g=x[0],y=x[1],k=Object(O.a)(),A=k.t,F=k.i18n;function w(e){F.changeLanguage(e)}return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://smartcitykey.com/api/","cities/"));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,y(r),console.log(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(h.jsx)(m.a,{bg:"light",expand:"lg",children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(f.a,{className:"start-0",variant:"outline-primary",id:"menu-toggle",onClick:i,children:A("menu.menu")})," ",Object(h.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(p.a,{className:"ms-auto",children:[Object(h.jsx)(p.a.Link,{href:"/",children:A("menu.home")}),Object(h.jsxs)(v.a,{title:A("menu.appMaps.title"),id:"basic-nav-dropdown",children:[Object(h.jsx)(v.a.Item,{href:"/roadaccident/".concat(t),active:"roadaccident"===r,children:A("menu.appMaps.roadaccident")},"1"),Object(h.jsx)(v.a.Item,{href:"/citytree/".concat(t),active:"citytree"===r,children:A("menu.appMaps.citytree")},"2"),Object(h.jsx)(v.a.Item,{href:"/urbanobject/".concat(t),active:"urbanobject"===r,children:A("menu.appMaps.urbanobject")},"3")]}),Object(h.jsx)(v.a,{title:A("menu.city"),id:"basic-nav-dropdown",children:g.map((function(e){return Object(h.jsx)(v.a.Item,{as:c.b,to:"/".concat(e.sysname),active:t===e.sysname,children:e.cityname},e.id)}))}),Object(h.jsxs)(v.a,{title:"Lang",id:"basic-nav-dropdown",children:[Object(h.jsx)(v.a.Item,{active:"en"===F.language||"en-US"===F.language||"en-GB"===F.language,value:"en",onClick:function(){return w("en")},children:"English"},"1"),Object(h.jsx)(v.a.Item,{active:"bg"===F.language,value:"bg",onClick:function(){return w("bg")},children:"Bulgarian"},"2")]}),o?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a.Link,{children:"".concat(A("words.hello"),", ").concat(o.username)}),Object(h.jsx)(p.a.Link,{href:"#",onClick:function(){s(void 0)},children:A("menu.logout")})]}):Object(h.jsx)(p.a.Link,{href:"#",onClick:function(){return a(!0)},children:A("menu.signin")})]})})]})})},g=r(134),y=r(124),k=r(2),A=r(8),F=r(194),w=r(186),I=r(131),S=r(196),T=r(55);var M=function(e){var t=e.onSubmitFilter,r=e.minMaxDateData,i=e.dictManeuvers,a=e.dictTypeViolations,c=e.dictViolators,o=Object(O.a)(),s=o.t;function l(){m("dateFromFilter",r.minDate),m("dateToFilter",r.maxDate)}o.i18n,Object(n.useEffect)((function(){l()}),[r]);var d=Object(A.b)({reValidateMode:"onChange",defaultValues:{dateFromFilter:"",dateToFilter:"",descFilter:"",maneuverFilter:"",violationsTypeFilter:"",violatorsFilter:"",driverViolationFilter:!1,motorcyclistViolationFilter:!1,cyclistViolationFilter:!1,pedestrianViolationFilter:!1,kidsInjuredFilter:!1,pubtrPassengersInjuredFilter:!1,driversKilledFilter:!1,motorcyclistsKilledFilter:!1,cyclistsKilledFilter:!1,pedestrianKilledFilter:!1,kidsKilledFilter:!1,pubtrPassengersKilledFilter:!1,publicTransportInvolvedFilter:!1,showOnlyMyAccidentsFilter:!1,select:{}}}),u=d.control,b=d.handleSubmit,j=d.reset,m=d.setValue,p=[];Array.isArray(i)&&(p=i.map((function(e){return{value:e.id,label:s("sidebar.filterTab.maneuversList.".concat(e.maneuvername))}})));var v=[];Array.isArray(a)&&(v=a.map((function(e){return{value:e.id,label:s("sidebar.filterTab.typeViolationsList.".concat(e.violationname))}})));var x=[];return Array.isArray(c)&&(x=c.map((function(e){return{value:e.id,label:s("sidebar.filterTab.violatorsList.".concat(e.violatorname))}}))),Object(h.jsx)("div",{children:Object(h.jsxs)(F.a,{className:"m-1",onSubmit:b(t),children:[Object(h.jsxs)(w.a,{children:[Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formDateFromFilter",children:[Object(h.jsx)(F.a.Label,{children:s("sidebar.filterTab.from")}),Object(h.jsx)(A.a,{name:"dateFromFilter",control:u,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"date"},t))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formDateToFilter",children:[Object(h.jsx)(F.a.Label,{children:s("sidebar.filterTab.to")}),Object(h.jsx)(A.a,{name:"dateToFilter",control:u,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"date"},t))}})]})]}),Object(h.jsxs)(w.a,{className:"mt-3",children:[Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formManeuverFilter",style:{minWidth:"250px"},children:[Object(h.jsx)(F.a.Label,{children:s("sidebar.filterTab.vehicleManeuver")}),Object(h.jsx)(A.a,{name:"maneuverFilter",control:u,render:function(e){var t=e.field;return Object(h.jsx)(T.a,Object(k.a)(Object(k.a)({},t),{},{isClearable:!0,isSearchable:!1,options:p}))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formDescFilter",children:[Object(h.jsx)(F.a.Label,{children:s("sidebar.filterTab.description")}),Object(h.jsx)(A.a,{name:"descFilter",control:u,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text"},t))}})]})]}),Object(h.jsxs)(F.a.Group,{controlId:"formViolationsTypeFilter",className:"mt-3",children:[Object(h.jsx)(F.a.Label,{children:s("sidebar.filterTab.violationsType")}),Object(h.jsx)(A.a,{name:"violationsTypeFilter",control:u,render:function(e){var t=e.field;return Object(h.jsx)(T.a,Object(k.a)(Object(k.a)({},t),{},{isMulti:!0,isSearchable:!1,options:v}))}})]}),Object(h.jsxs)(F.a.Group,{controlId:"formviolatorsFilter",className:"mt-3",children:[Object(h.jsx)(F.a.Label,{children:s("sidebar.filterTab.violators")}),Object(h.jsx)(A.a,{name:"violatorsFilter",control:u,render:function(e){var t=e.field;return Object(h.jsx)(T.a,Object(k.a)(Object(k.a)({},t),{},{isMulti:!0,isSearchable:!1,options:x}))}})]}),Object(h.jsxs)(S.a,{body:!0,className:"mt-3",children:[Object(h.jsx)(S.a.Title,{children:Object(h.jsx)("h6",{children:s("sidebar.filterTab.injured")})}),Object(h.jsx)(A.a,{name:"driverInjuredFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.driver"),type:"checkbox",id:"idDriverInjuredFilter"}))}}),Object(h.jsx)(A.a,{name:"motorcyclistInjuredFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.motorcyclist"),type:"checkbox",id:"idMotorcyclistInjuredFilter"}))}}),Object(h.jsx)(A.a,{name:"cyclistInjuredFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.cyclist"),type:"checkbox",id:"idCyclistInjuredFilter"}))}}),Object(h.jsx)(A.a,{name:"pedestrianInjuredFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.pedestrian"),type:"checkbox",id:"idPedestrianInjuredFilter"}))}}),Object(h.jsx)(A.a,{name:"kidsInjuredFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.kid"),type:"checkbox",id:"idKidsInjuredFilter"}))}}),Object(h.jsx)(A.a,{name:"pubtrPassengersInjuredFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.pubtrPassenger"),type:"checkbox",id:"idPubtrPassengersInjuredFilter"}))}})]}),Object(h.jsxs)(S.a,{body:!0,className:"mt-3",children:[Object(h.jsx)(S.a.Title,{children:Object(h.jsx)("h6",{children:s("sidebar.filterTab.killed")})}),Object(h.jsx)(A.a,{name:"driversKilledFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.driver"),type:"checkbox",id:"idDriversKilledFilter"}))}}),Object(h.jsx)(A.a,{name:"motorcyclistsKilledFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.motorcyclist"),type:"checkbox",id:"idMotorcyclistsKilledFilter"}))}}),Object(h.jsx)(A.a,{name:"cyclistsKilledFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.cyclist"),type:"checkbox",id:"idCyclistsKilledFilter"}))}}),Object(h.jsx)(A.a,{name:"pedestrianKilledFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.pedestrian"),type:"checkbox",id:"idPedestrianKilledFilter"}))}}),Object(h.jsx)(A.a,{name:"kidsKilledFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.kid"),type:"checkbox",id:"idKidsKilledFilter"}))}}),Object(h.jsx)(A.a,{name:"pubtrPassengersKilledFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.pubtrPassenger"),type:"checkbox",id:"idPubtrPassengersKilledFilter"}))}})]}),Object(h.jsx)(F.a.Group,{controlId:"formPublicTransportInvolvedFilter",className:"mt-3 ms-1",children:Object(h.jsx)(A.a,{name:"publicTransportInvolvedFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.publicTransportInvolved"),type:"checkbox",id:"idPublicTransportInvolvedFilter"}))}})}),Object(h.jsx)(F.a.Group,{controlId:"formShowOnlyMyAccidentsFilter",className:"mt-3 ms-1",children:Object(h.jsx)(A.a,{name:"showOnlyMyAccidentsFilter",control:u,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:s("sidebar.filterTab.showOnlyMyAccidents"),type:"checkbox",id:"idShowOnlyMyAccidentsFilter"}))}})}),Object(h.jsxs)("div",{className:"mt-4 me-2 float-end",children:[Object(h.jsx)(f.a,{variant:"light",onClick:function(e){j(),l(),t({})},children:s("sidebar.filterTab.clear")})," ",Object(h.jsx)(f.a,{type:"submit",variant:"primary",style:{minWidth:"150px"},children:s("sidebar.filterTab.search")})," "]})]})})},C=r(195),N=(r(127),r(133)),L=r.n(N),K=(r(171),r(121)),P=r.n(K);var D=function(e){var t=e.newMarkerState,r=e.onSubmitAccident,i=e.onDeleteAccident,a=e.onCloseAccident,c=e.dictManeuvers,o=e.dictTypeViolations,s=e.dataAccidentForm,l=e.dictViolators,d=(e.currentCity,Object(n.useState)(!1)),u=Object(b.a)(d,2),j=u[0],m=u[1],p=Object(n.useRef)(null),v=Object(O.a)().t;Object(n.useEffect)((function(){t.visible&&(K(),p.current.state.inputValue="",p.current.state.selectedDate=void 0,D("latAccidentForm",t.position.lat),D("lngAccidentForm",t.position.lng))}),[t]),Object(n.useEffect)((function(){var e,t,r,n,i,a,c,o,l,d,u,b,j,m,p,v,f,O,h,k,A,F,w={};(w.accidentId=null===s||void 0===s||null===(e=s.properties)||void 0===e?void 0:e.id,w.latAccidentForm=null===s||void 0===s||null===(t=s.properties)||void 0===t?void 0:t.latitude,w.lngAccidentForm=null===s||void 0===s||null===(r=s.properties)||void 0===r?void 0:r.longitude,w.descAccidentForm=null===s||void 0===s||null===(n=s.properties)||void 0===n?void 0:n.description,null===s||void 0===s||null===(i=s.properties)||void 0===i?void 0:i.datetime)&&(w.dateTimeAccidentForm=P()(null===s||void 0===s||null===(F=s.properties)||void 0===F?void 0:F.datetime));var I=null===s||void 0===s||null===(a=s.properties)||void 0===a?void 0:a.maneuver;I&&(w.maneuverAccidentForm=x.find((function(e){return e.value===I})));var S=null===s||void 0===s||null===(c=s.properties)||void 0===c?void 0:c.violations_type;S&&(S=S.map((function(e){return parseInt(e)})),w.violationsTypeAccidentForm=g.filter((function(e){return S.includes(e.value)})));var T=null===s||void 0===s||null===(o=s.properties)||void 0===o?void 0:o.violators;T&&(T=T.map((function(e){return parseInt(e)})),w.violatorsAccidentForm=y.filter((function(e){return T.includes(e.value)}))),w.driversInjuredAccidentForm=null===s||void 0===s||null===(l=s.properties)||void 0===l?void 0:l.drivers_injured,w.motorcyclistsInjuredAccidentForm=null===s||void 0===s||null===(d=s.properties)||void 0===d?void 0:d.motorcyclists_injured,w.cyclistsInjuredAccidentForm=null===s||void 0===s||null===(u=s.properties)||void 0===u?void 0:u.cyclists_injured,w.pedInjuredAccidentForm=null===s||void 0===s||null===(b=s.properties)||void 0===b?void 0:b.ped_injured,w.kidsInjuredAccidentForm=null===s||void 0===s||null===(j=s.properties)||void 0===j?void 0:j.kids_injured,w.pubtrPassengersInjuredAccidentForm=null===s||void 0===s||null===(m=s.properties)||void 0===m?void 0:m.pubtr_passengers_injured,w.driversKilledAccidentForm=null===s||void 0===s||null===(p=s.properties)||void 0===p?void 0:p.drivers_killed,w.motorcyclistsKilledAccidentForm=null===s||void 0===s||null===(v=s.properties)||void 0===v?void 0:v.motorcyclists_killed,w.cyclistsKilledAccidentForm=null===s||void 0===s||null===(f=s.properties)||void 0===f?void 0:f.cyclists_killed,w.pedKilledAccidentForm=null===s||void 0===s||null===(O=s.properties)||void 0===O?void 0:O.ped_killed,w.kidsKilledAccidentForm=null===s||void 0===s||null===(h=s.properties)||void 0===h?void 0:h.kids_killed,w.pubtrPassengersKilledAccidentForm=null===s||void 0===s||null===(k=s.properties)||void 0===k?void 0:k.pubtr_passengers_killed,w.publicTransportInvolvedAccidentForm=null===s||void 0===s||null===(A=s.properties)||void 0===A?void 0:A.public_transport_involved,K(w,{keepDefaultValues:!0})}),[s]);var x=[];Array.isArray(c)&&(x=c.map((function(e){return{value:e.id,label:v("sidebar.filterTab.maneuversList.".concat(e.maneuvername))}})));var g=[];Array.isArray(o)&&(g=o.map((function(e){return{value:e.id,label:v("sidebar.filterTab.typeViolationsList.".concat(e.violationname))}})));var y=[];Array.isArray(l)&&(y=l.map((function(e){return{value:e.id,label:v("sidebar.filterTab.violatorsList.".concat(e.violatorname))}})));var S=Object(A.b)({defaultValues:{latAccidentForm:"",lngAccidentForm:"",descAccidentForm:"",dateTimeAccidentForm:"",maneuverAccidentForm:null,violationsTypeAccidentForm:[],violatorsAccidentForm:[],driversInjuredAccidentForm:0,motorcyclistsInjuredAccidentForm:0,cyclistsInjuredAccidentForm:0,pedInjuredAccidentForm:0,kidsInjuredAccidentForm:0,pubtrPassengersInjuredAccidentForm:0,driversKilledAccidentForm:0,motorcyclistsKilledAccidentForm:0,cyclistsKilledAccidentForm:0,pedKilledAccidentForm:0,kidsKilledAccidentForm:0,pubtrPassengersKilledAccidentForm:0,publicTransportInvolvedAccidentForm:!1,accidentId:""}}),M=S.control,N=S.handleSubmit,K=S.reset,D=S.setValue,z=S.getValues,G=S.formState.errors;return Object(h.jsxs)("div",{children:[Object(h.jsxs)(F.a,{className:"m-1",onSubmit:N((function(e){var t,n={};n.id=parseInt(z("accidentId"))||null,n.latitude=z("latAccidentForm"),n.longitude=z("lngAccidentForm"),n.datetime=z("dateTimeAccidentForm").format("YYYY-MM-DDTHH:mm"),n.maneuver=null===(t=z("maneuverAccidentForm"))||void 0===t?void 0:t.value,void 0===n.maneuver&&(n.maneuver=null),n.description=z("descAccidentForm"),n.violations_type=z("violationsTypeAccidentForm").map((function(e){return e.value})),n.violators=z("violatorsAccidentForm").map((function(e){return e.value})),n.drivers_injured=parseInt(z("driversInjuredAccidentForm"))||0,n.motorcyclists_injured=parseInt(z("motorcyclistsInjuredAccidentForm"))||0,n.cyclists_injured=parseInt(z("cyclistsInjuredAccidentForm"))||0,n.ped_injured=parseInt(z("pedInjuredAccidentForm"))||0,n.kids_injured=parseInt(z("kidsInjuredAccidentForm"))||0,n.pubtr_passengers_injured=parseInt(z("pubtrPassengersInjuredAccidentForm"))||0,n.drivers_killed=parseInt(z("driversKilledAccidentForm"))||0,n.motorcyclists_killed=parseInt(z("motorcyclistsKilledAccidentForm"))||0,n.cyclists_killed=parseInt(z("cyclistsKilledAccidentForm"))||0,n.ped_killed=parseInt(z("pedKilledAccidentForm"))||0,n.kids_killed=parseInt(z("kidsKilledAccidentForm"))||0,n.pubtr_passengers_killed=parseInt(z("pubtrPassengersKilledAccidentForm"))||0,n.public_transport_involved=z("publicTransportInvolvedAccidentForm"),r(n)})),children:[Object(h.jsxs)(w.a,{children:[Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formDateFromFilter",children:Object(h.jsxs)(F.a.Label,{children:[v("sidebar.accidentTab.latLng")," ",Object(h.jsx)("a",{href:"#",children:Object(h.jsx)("i",{className:"fas fa-edit align-middle"})})]})}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formLatAccident",children:[Object(h.jsx)(A.a,{name:"latAccidentForm",control:M,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",step:"any",size:"sm",isInvalid:!!G.latAccidentForm},t))}}),Object(h.jsx)(F.a.Control.Feedback,{type:"invalid",children:v("words.requiredField")})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formLngAccident",children:[Object(h.jsx)(A.a,{name:"lngAccidentForm",control:M,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",step:"any",size:"sm",isInvalid:!!G.lngAccidentForm},t))}}),Object(h.jsx)(F.a.Control.Feedback,{type:"invalid",children:v("words.requiredField")})]})]}),Object(h.jsxs)(F.a.Group,{controlId:"formDescriptionAccident",className:"mt-3",children:[Object(h.jsx)(F.a.Label,{children:v("sidebar.accidentTab.description")}),Object(h.jsx)(A.a,{name:"descAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text",as:"textarea",rows:3},t))}})]}),Object(h.jsxs)(w.a,{className:"mt-3",children:[Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formDateTimeAccident",style:{minWidth:"250px"},children:[Object(h.jsx)(F.a.Label,{children:v("sidebar.accidentTab.datetime")}),Object(h.jsx)(A.a,{name:"dateTimeAccidentForm",control:M,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(L.a,Object(k.a)(Object(k.a)({},t),{},{ref:p}))}}),G.dateTimeAccidentForm?Object(h.jsx)("p",{style:{color:"red"},children:Object(h.jsx)("small",{children:"Required field"})}):""]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formManeuverAccident",children:[Object(h.jsx)(F.a.Label,{children:v("sidebar.accidentTab.vehicleManeuver")}),Object(h.jsx)(A.a,{name:"maneuverAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(T.a,Object(k.a)(Object(k.a)({},t),{},{isClearable:!0,isSearchable:!1,options:x}))}})]})]}),Object(h.jsxs)(F.a.Group,{controlId:"formViolationsTypeAccident",className:"mt-3",children:[Object(h.jsx)(F.a.Label,{children:v("sidebar.accidentTab.violationsType")}),Object(h.jsx)(A.a,{name:"violationsTypeAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(T.a,Object(k.a)(Object(k.a)({},t),{},{isMulti:!0,isSearchable:!1,options:g}))}})]}),Object(h.jsxs)(F.a.Group,{controlId:"formViolatorsAccident",className:"mt-3",children:[Object(h.jsx)(F.a.Label,{children:v("sidebar.accidentTab.violators")}),Object(h.jsx)(A.a,{name:"violatorsAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(T.a,Object(k.a)(Object(k.a)({},t),{},{isMulti:!0,isSearchable:!1,options:y}))}})]}),Object(h.jsxs)(w.a,{className:"mt-3",children:[Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formInjuredLabelAccident",children:Object(h.jsx)(F.a.Label,{style:{marginTop:"32px"},children:v("sidebar.accidentTab.injured")})}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formDriversInjuredAccident",className:"ps-1 pe-0",children:[Object(h.jsx)(F.a.Label,{children:Object(h.jsx)("i",{className:"fas fa-car fa-lg",title:v("sidebar.accidentTab.driverAndPassengers")})}),Object(h.jsx)(A.a,{name:"driversInjuredAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formMotorcyclistsInjuredAccident",className:"ps-1 pe-0",children:[Object(h.jsx)(F.a.Label,{children:Object(h.jsx)("i",{className:"fas fa-motorcycle fa-lg",title:v("sidebar.accidentTab.motorcyclist")})}),Object(h.jsx)(A.a,{name:"motorcyclistsInjuredAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formCyclistsInjuredAccident",className:"ps-1 pe-0",children:[Object(h.jsx)(F.a.Label,{children:Object(h.jsx)("i",{className:"fas fa-bicycle fa-lg",title:v("sidebar.accidentTab.cyclist")})}),Object(h.jsx)(A.a,{name:"cyclistsInjuredAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formPedInjuredAccident",className:"ps-1 pe-0",children:[Object(h.jsx)(F.a.Label,{children:Object(h.jsx)("i",{className:"fas fa-walking fa-lg",title:v("sidebar.accidentTab.pedestrian")})}),Object(h.jsx)(A.a,{name:"pedInjuredAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formKidsInjuredAccident",className:"ps-1 pe-0",children:[Object(h.jsx)(F.a.Label,{children:Object(h.jsx)("i",{className:"fas fa-baby fa-lg",title:v("sidebar.accidentTab.kid")})}),Object(h.jsx)(A.a,{name:"kidsInjuredAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})]}),Object(h.jsxs)(F.a.Group,{as:I.a,controlId:"formPubtrPassengersInjuredAccident",className:"ps-1 pe-0",children:[Object(h.jsx)(F.a.Label,{children:Object(h.jsx)("i",{className:"fas fa-bus-alt fa-lg",title:v("sidebar.accidentTab.publicTransPassenger")})}),Object(h.jsx)(A.a,{name:"pubtrPassengersInjuredAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})]})]}),Object(h.jsxs)(w.a,{className:"mt-0",children:[Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formKilledLabelAccident",children:Object(h.jsx)(F.a.Label,{children:v("sidebar.accidentTab.killed")})}),Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formDriversKilledAccident",className:"ps-1 pe-0",children:Object(h.jsx)(A.a,{name:"driversKilledAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})}),Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formMotorcyclistsKilledAccident",className:"ps-1 pe-0",children:Object(h.jsx)(A.a,{name:"motorcyclistsKilledAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})}),Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formCyclistsKilledAccident",className:"ps-1 pe-0",children:Object(h.jsx)(A.a,{name:"cyclistsKilledAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})}),Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formPedKilledAccident",className:"ps-1 pe-0",children:Object(h.jsx)(A.a,{name:"pedKilledAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})}),Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formKidsKilledAccident",className:"ps-1 pe-0",children:Object(h.jsx)(A.a,{name:"kidsKilledAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})}),Object(h.jsx)(F.a.Group,{as:I.a,controlId:"formPubtrPassengersKilledAccident",className:"ps-1 pe-0",children:Object(h.jsx)(A.a,{name:"pubtrPassengersKilledAccidentForm",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",max:"99"},t))}})})]}),Object(h.jsx)(F.a.Group,{controlId:"formPublicTransportInvolvedAccident",className:"mt-3 ms-1",children:Object(h.jsx)(A.a,{name:"publicTransportInvolvedAccidentForm",control:M,render:function(e){var t,r=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)(Object(k.a)({},r),{},{checked:null!==(t=r.value)&&void 0!==t&&t,inline:!0,label:v("sidebar.accidentTab.publicTransInvolved"),type:"checkbox",id:"idPublicTransportInvolvedAccident"}))}})}),Object(h.jsx)(F.a.Group,{controlId:"formIdAccident",className:"mt-3",children:Object(h.jsx)(A.a,{name:"accidentId",control:M,render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"number",size:"sm",min:"0",style:{display:"none"}},t))}})}),Object(h.jsxs)("div",{className:"mt-4 me-2 float-end",children:[Object(h.jsx)(f.a,{onClick:function(){return m(!0)},variant:"light",children:v("sidebar.accidentTab.delete")})," ",Object(h.jsx)(f.a,{onClick:a,variant:"secondary",children:v("sidebar.accidentTab.close")})," ",Object(h.jsx)(f.a,{type:"submit",variant:"primary",style:{minWidth:"110px"},children:v("sidebar.accidentTab.save")})]})]}),Object(h.jsxs)(C.a,{show:j,onHide:function(){return m(!1)},children:[Object(h.jsx)(C.a.Header,{closeButton:!0,children:Object(h.jsx)(C.a.Title,{children:v("words.deleting")})}),Object(h.jsx)(C.a.Body,{children:v("words.confirmDeleting")}),Object(h.jsxs)(C.a.Footer,{children:[Object(h.jsx)(f.a,{variant:"light",onClick:function(){m(!1),i(z("accidentId"))},children:v("words.delete")}),Object(h.jsx)(f.a,{variant:"secondary",onClick:function(){return m(!1)},children:v("words.cancel")})]})]})]})},z=function(e){var t=e.onSubmitFilter,r=e.onSubmitAccident,i=e.onDeleteAccident,a=e.onCloseAccident,c=e.minMaxDateData,o=e.dataAccidentForm,s=e.showAccidentTab,l=e.activeTabKey,d=e.setActiveTabKey,u=e.newMarkerState,j=e.dictManeuvers,m=e.dictTypeViolations,p=e.dictViolators,v=e.currentCity,f=Object(n.useState)("filter"),x=Object(b.a)(f,2),k=(x[0],x[1],Object(O.a)().t);return Object(h.jsxs)(g.a,{id:"controlled-tab-example",activeKey:l,onSelect:function(e){return d(e)},className:"mb-3",children:[Object(h.jsx)(y.a,{eventKey:"filter",title:k("sidebar.filterTab.title"),children:Object(h.jsx)("div",{style:{overflowY:"auto",overflowX:"hidden",width:"100%",height:"calc(100vh - 130px)"},children:Object(h.jsx)(M,{onSubmitFilter:t,minMaxDateData:c,dictManeuvers:j,dictTypeViolations:m,dictViolators:p})})}),Object(h.jsx)(y.a,{eventKey:"accident",title:k("sidebar.accidentTab.title"),tabClassName:s?"":"d-none",children:Object(h.jsx)("div",{style:{overflowY:"auto",overflowX:"hidden",width:"100%",height:"calc(100vh - 130px)"},children:Object(h.jsx)(D,{onSubmitAccident:r,onDeleteAccident:i,onCloseAccident:a,newMarkerState:u,dictManeuvers:j,dictTypeViolations:m,dictViolators:p,dataAccidentForm:o,currentCity:v})})})]})},G=function(e){var t=e.onSubmitFilter,r=e.onSubmitAccident,n=e.onDeleteAccident,i=e.onCloseAccident,a=e.minMaxDateData,c=e.dataAccidentForm,o=e.showAccidentTab,s=e.activeTabKey,l=e.setActiveTabKey,d=e.newMarkerState,u=e.dictManeuvers,b=e.dictTypeViolations,j=e.dictViolators,m=e.currentCity;return Object(h.jsx)("div",{className:"bg-light border-right",id:"sidebar-wrapper",children:Object(h.jsx)("div",{className:"list-group list-group-flush",style:{marginTop:"15px"},children:Object(h.jsx)(z,{onSubmitFilter:t,onSubmitAccident:r,onDeleteAccident:n,onCloseAccident:i,minMaxDateData:a,dataAccidentForm:c,showAccidentTab:o,activeTabKey:s,setActiveTabKey:l,newMarkerState:d,dictManeuvers:u,dictTypeViolations:b,dictViolators:j,currentCity:m})})})},B=r(10),V=r(189),H=r(190),E=r(191),R=r(187),U=r(192),W=r(193),Y=r(14),q=r.n(Y);r(172),r(173),r(174);var J=function(e,t,r,n,i){return q.a.easyButton({position:"topright",states:[{stateName:"off",icon:'<i class="'.concat(t,'"></i>'),onClick:function(e){e.state("on"),e.button.style.backgroundColor="red",n(!0)}},{stateName:"on",icon:'<i class="'.concat(r,'"></i>'),onClick:function(e){e.state("off"),e.button.style.backgroundColor="white",n(!1)}}]}).addTo(e)},Z=r(188),Q=r(139);var X,_,$,ee=function(e){var t=e.mapBaseLayerName;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(R.a.BaseLayer,{checked:"Default"===t,name:"Default",children:Object(h.jsx)(Z.a,{attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",accessToken:"pk.eyJ1IjoiZHJpdmVzb2Z0IiwiYSI6ImNqY3hkMzAwNTAwM2IzM28zajFoeG1pamYifQ.w5UaGnR0OMDIa6ARiyWoYQ",id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1})}),Object(h.jsx)(R.a.BaseLayer,{checked:"Dark"===t,name:"Dark",children:Object(h.jsx)(Z.a,{attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",accessToken:"pk.eyJ1IjoiZHJpdmVzb2Z0IiwiYSI6ImNqY3hkMzAwNTAwM2IzM28zajFoeG1pamYifQ.w5UaGnR0OMDIa6ARiyWoYQ",id:"mapbox/dark-v10",tileSize:512,zoomOffset:-1})}),Object(h.jsx)(R.a.BaseLayer,{checked:"Google"===t,name:"Google",children:Object(h.jsx)(Z.a,{attribution:"Google",url:"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(h.jsx)(R.a.BaseLayer,{checked:"Sat1"===t,name:"Sat1",children:Object(h.jsx)(Q.a,{bingkey:"AniAD3xsGTaSbK1pa0_UkWS1CldG0nGI7r55MlVZqHhyKil9rD9dFK8536u8hTj1",type:"Aerial"})}),Object(h.jsx)(R.a.BaseLayer,{checked:"Sat2"===t,name:"Sat2",children:Object(h.jsx)(Z.a,{attribution:"Google",url:"http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(h.jsx)(R.a.BaseLayer,{checked:"Sat3"===t,name:"Sat3",children:Object(h.jsx)(Z.a,{attribution:"Tiles \xa9 Esri",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maxZoom:19})}),Object(h.jsx)(R.a.BaseLayer,{checked:"Sat4"===t,name:"Sat4",children:Object(h.jsx)(Z.a,{attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",accessToken:"pk.eyJ1IjoiZHJpdmVzb2Z0IiwiYSI6ImNqY3hkMzAwNTAwM2IzM28zajFoeG1pamYifQ.w5UaGnR0OMDIa6ARiyWoYQ",id:"mapbox/satellite-v9",tileSize:512,maxZoom:21,zoomOffset:-1})})]})},te=(r(176),r(135)),re=r.n(te),ne=(r(178),q.a.icon({iconUrl:"data:image/png;base64,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",shadowUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})),ie={radius:6,fillColor:"#402000",color:"#000",weight:0,opacity:.5,fillOpacity:.6},ae="";var ce=function(e){var t,r=e.mapBaseLayerName,i=e.dataAccidents,a=e.dataHeatmapPoints,c=e.currentCity,o=e.newMarkerState,s=e.onDragEndNewMarker,l=e.checkButtonNewMarker,j=e.checkButtonHeatmap,m=e.checkButtonGPS,p=e.onClickMap,v=e.onMarkerClick,f=e.onClickNewMarker,O=e.onClickHeatmap,x=e.onClickGPS,g=e.filterMapCallback,y=e.onBaselayerchange,k=e.setNewMarkerState,A=e.isMobileDevice,F=e.showOkCancelMobileMarker,w=e.setCheckButtonGPS,I=e.showSidebar,S=Object(n.useState)({latitude:"0",longitude:"0"}),T=Object(b.a)(S,2),M=T[0],C=T[1],N=Object(n.useState)(null),L=Object(b.a)(N,2),K=L[0],P=L[1],D=Object(n.useState)(null),z=Object(b.a)(D,2),G=z[0],Y=z[1],Z=Object(n.useState)(null),Q=Object(b.a)(Z,2),te=Q[0],ce=Q[1],oe=Object(n.useState)(null),se=Object(b.a)(oe,2),le=se[0],de=se[1],ue=Object(n.useState)(null),be=Object(b.a)(ue,2),je=be[0],me=be[1],pe=document.cookie.split("; ").find((function(e){return e.startsWith("mapname=")}));pe&&pe.split("=")[1];var ve=Object(n.useRef)(null);function fe(){var e=Object(V.a)();return ae!==M.sysname&&e.panTo([parseFloat(M.latitude),parseFloat(M.longitude)]),ae=M.sysname,null}function Oe(e){K&&(e?(_=4,K.locate({maxZoom:20,enableHighAccuracy:!0,watch:!0,maximumAge:2e4})):(K.stopLocate(),K.removeLayer($),_=4)),x(e)}function he(e){var t=e.target.toGeoJSON();v(t)}function xe(e,t){if(!j)return q.a.circleMarker(t,ie).on("click",he)}function ge(e,t){t.on({click:function(e){console.log("e: ",e),console.log("click")}})}function ye(e){var t=e.newMarkerState,r=t.visible,i=Object(V.a)(),a=Object(n.useMemo)((function(){return{dragend:function(){var e=ve.current;if(!A&&null!=e){var t=e.getLatLng(),r={lat:0,lng:0};r.lat=t.lat.toFixed(5),r.lng=t.lng.toFixed(5),k({visible:!0,position:r})}}}}),[]);return Object(h.jsx)(h.Fragment,{children:r&&Object(h.jsx)(h.Fragment,{children:A?Object(h.jsx)(H.a,{icon:ne,draggable:!1,position:0==t.position.lat?i.getCenter():t.position,ref:ve},"newMarker"):Object(h.jsx)(H.a,{icon:ne,draggable:!0,position:t.position,ref:ve,eventHandlers:a},"newMarker")})})}function ke(){var e=Object(V.b)({baselayerchange:y,move:function(e){F&&ve.current.setLatLng({lat:e.target.getCenter().lat,lng:e.target.getCenter().lng})},moveend:function(e){if(F){var t=ve.current.getLatLng(),r={lat:0,lng:0};r.lat=t.lat.toFixed(5),r.lng=t.lng.toFixed(5),k({visible:!0,position:r})}},click:function(e){p(e)},zoomend:function(e){Y(e.target._zoom)},locationfound:function(t){var r=t.accuracy/2;_>0&&(e.setView(t.latlng,20),_-=1),e.hasLayer($)?($.setLatLng(t.latlng),$.setRadius(r)):$=q.a.circle(t.latlng,r).addTo(e)},locationerror:function(e){w(!1),alert(e.message)}});return null}function Ae(){var e=Object(V.a)();return X&&e.removeLayer(X),j&&a&&(X=q.a.heatLayer(a,{gradient:{.4:"#1E90FF",.8:"white",1:"red"},max:1.5,radius:14,blur:10,maxZoom:6}),e.addLayer(X)),null}return Object(n.useEffect)((function(){return K&&(ce(J(K,"fas fa-map-marker-alt fa-lg","fas fa-map-marker-alt fa-lg",f,l)),de(J(K,"fas fa-eye fa-lg","fas fa-eye-slash fa-lg",O,j)),me(J(K,"fas fa-satellite-dish fa-lg","fas fa-satellite-dish fa-lg",Oe,m))),function(){te&&te.remove(),le&&le.remove(),je&&je.remove()}}),[K]),Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://smartcitykey.com/api/","cities/").concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,C(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(n.useEffect)((function(){te&&(l?(te.state("on"),te.button.style.backgroundColor="red"):(te.state("off"),te.button.style.backgroundColor="white"))}),[l]),Object(n.useEffect)((function(){le&&(j?(le.state("on"),le.button.style.backgroundColor="red"):(le.state("off"),le.button.style.backgroundColor="white"))}),[j]),Object(n.useEffect)((function(){je&&(m?(je.state("on"),je.button.style.backgroundColor="red"):(je.state("off"),je.button.style.backgroundColor="white"))}),[m]),Object(n.useEffect)((function(){K&&!A&&(l?q.a.DomUtil.addClass(K._container,"crosshair-cursor-enabled"):q.a.DomUtil.removeClass(K._container,"crosshair-cursor-enabled"))}),[l]),Object(n.useEffect)((function(){K&&window.setTimeout((function(){K.invalidateSize({pan:!1})}),600)}),[I]),Object(h.jsx)(h.Fragment,{children:"0"!==M.longitude&&"0"!==M.latitude?Object(h.jsxs)(E.a,(t={style:{cursor:"crosshair"},whenCreated:P,center:[parseFloat(M.latitude),parseFloat(M.longitude)],zoom:13,zoomControl:!1,scrollWheelZoom:!0},Object(B.a)(t,"style",{height:"calc(100vh - 60px)",width:"100%"}),Object(B.a)(t,"children",[Object(h.jsx)(R.a,{position:"topleft",children:Object(h.jsx)(ee,{mapBaseLayerName:r})}),Object(h.jsx)(fe,{}),G<15?Object(h.jsx)(U.a,{data:i,pointToLayer:xe,filter:g,onEachFeature:ge},Date.now()):Object(h.jsx)(re.a,{spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,zoomToBoundsOnClick:!0,maxClusterRadius:15,iconCreateFunction:function(e){var t,r=e.getChildCount();return 2==r&&(t="1"),r>=3&&r<=5&&(t="2"),r>=6&&r<=9&&(t="3"),r>=10&&r<=14&&(t="4"),r>14&&(t="5"),q.a.divIcon({html:r,className:"cluster digits-"+t,iconSize:null})},children:Object(h.jsx)(U.a,{data:i,pointToLayer:xe,filter:g,onEachFeature:ge},Date.now())}),Object(h.jsx)(ye,{newMarkerState:o,onDragEndNewMarker:s}),Object(h.jsx)(ke,{}),!A&&Object(h.jsx)(W.a,{position:"bottomright"}),Object(h.jsx)(Ae,{})]),t)):Object(h.jsx)("p",{children:"Loading..."})})},oe=r(132),se=function(e){var t=e.show,r=e.onHide,i=e.setLoginModalShow,a=e.setRegisterModalShow,c=e.setAuthToken,o=Object(n.useState)(!1),s=Object(b.a)(o,2),l=s[0],j=s[1],m=Object(O.a)().t;Object(n.useEffect)((function(){g(),j(!1)}),[t]);var p=Object(A.b)({defaultValues:{username:"",password:"",rememberme:!1}}),v=p.control,x=p.handleSubmit,g=p.reset,y=p.formState.errors;function w(){return(w=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://smartcitykey.com/api/","token/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){200===e.status?e.json().then((function(e){c(e),j(!1),i(!1)})):401===e.status&&j(!0)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(C.a,{show:t,onHide:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(h.jsx)(C.a.Header,{closeButton:!0,children:Object(h.jsx)(C.a.Title,{id:"contained-modal-title-vcenter",children:m("loginForm.title")})}),Object(h.jsx)(C.a.Body,{children:Object(h.jsxs)(F.a,{onSubmit:x((function(e){j(!1),localStorage.setItem("rememberme",e.rememberme),function(e){w.apply(this,arguments)}(e)})),children:[Object(h.jsxs)(F.a.Group,{className:"mb-3",controlId:"formLogin",children:[Object(h.jsx)(oe.a,{controlId:"floatingInput",label:m("loginForm.username"),className:"mb-3",children:Object(h.jsx)(A.a,{name:"username",control:v,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text",placeholder:m("loginForm.username"),isInvalid:!!y.username},t))}})}),Object(h.jsx)(oe.a,{controlId:"floatingPassword",label:m("loginForm.password"),children:Object(h.jsx)(A.a,{name:"password",control:v,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"password",placeholder:m("loginForm.password"),isInvalid:!!y.password},t))}})})]}),Object(h.jsx)(F.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(A.a,{name:"rememberme",control:v,rules:{required:!1},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Check,Object(k.a)({type:"checkbox",label:m("loginForm.rememberMe")},t))}})}),l&&Object(h.jsx)(F.a.Text,{className:"text-danger",children:m("loginForm.wrongUsernamePassword")}),Object(h.jsx)(f.a,{className:"mb-3",variant:"primary",type:"submit",style:{display:"block",width:"100%"},children:m("loginForm.login")}),Object(h.jsx)(F.a.Text,{className:"text-muted mb-0",children:Object(h.jsxs)("p",{className:"text-center",children:[m("loginForm.dontHaveAccount")," ",Object(h.jsx)("a",{href:"#",onClick:function(){i(!1),a(!0)},children:m("loginForm.signUp")})]})})]})})]})},le=function(e){var t,r,i,a=e.show,c=e.onHide,o=e.setRegisterModalShow,s=e.setLoginModalShow,l=e.setAuthToken,j=Object(O.a)().t;Object(n.useEffect)((function(){x()}),[a]);var m=Object(A.b)({defaultValues:{username:"",email:"",password:"",password2:"",first_name:"",last_name:""}}),p=m.control,v=m.handleSubmit,x=m.reset,g=m.setError,y=m.formState.errors;function S(){return(S=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://localhost:8000/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){200===e.status?e.json().then((function(e){console.log("ok",e),o(!1),l(e.token)})):e.status>=400&&e.json().then((function(e){console.log(e);for(var t=0,r=Object.entries(e);t<r.length;t++){var n=Object(b.a)(r[t],2),i=n[0],a=n[1];g(i,{type:"manual",message:a})}}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(C.a,{show:a,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(h.jsx)(C.a.Header,{closeButton:!0,children:Object(h.jsx)(C.a.Title,{id:"contained-modal-title-vcenter",children:j("registerForm.title")})}),Object(h.jsx)(C.a.Body,{children:Object(h.jsxs)(F.a,{onSubmit:v((function(e){!function(e){S.apply(this,arguments)}(e)})),children:[Object(h.jsxs)(F.a.Group,{className:"mb-3",controlId:"formRegister",children:[(null===y||void 0===y||null===(t=y.username)||void 0===t?void 0:t.message)&&Object(h.jsx)(F.a.Text,{className:"text-danger",children:y.username.message.map((function(e){return Object(h.jsx)("p",{className:"mb-0",children:e},e)}))}),Object(h.jsx)(oe.a,{controlId:"floatingUsername",label:j("registerForm.username"),className:"mb-3",children:Object(h.jsx)(A.a,{name:"username",control:p,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text",placeholder:j("registerForm.username"),isInvalid:!!y.username},t))}})}),(null===y||void 0===y||null===(r=y.email)||void 0===r?void 0:r.message)&&Object(h.jsx)(F.a.Text,{className:"text-danger",children:y.email.message.map((function(e){return Object(h.jsx)("p",{className:"mb-0",children:e},e)}))}),Object(h.jsx)(oe.a,{controlId:"floatingEmail",label:j("registerForm.email"),className:"mb-3",children:Object(h.jsx)(A.a,{name:"email",control:p,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text",placeholder:j("registerForm.email"),isInvalid:!!y.email},t))}})}),(null===y||void 0===y||null===(i=y.password)||void 0===i?void 0:i.message)&&Object(h.jsx)(F.a.Text,{className:"text-danger",children:y.password.message.map((function(e){return Object(h.jsx)("p",{className:"mb-0",children:e},e)}))}),Object(h.jsx)(oe.a,{controlId:"floatingPassword",label:j("registerForm.password"),className:"mb-3",children:Object(h.jsx)(A.a,{name:"password",control:p,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"password",placeholder:j("registerForm.password"),isInvalid:!!y.password},t))}})}),Object(h.jsx)(oe.a,{controlId:"floatingPassword2",label:j("registerForm.confirmPassword"),className:"mb-3",children:Object(h.jsx)(A.a,{name:"password2",control:p,rules:{required:!0},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"password",placeholder:j("registerForm.confirmPassword"),isInvalid:!!y.password2},t))}})}),Object(h.jsxs)(w.a,{children:[Object(h.jsx)(I.a,{children:Object(h.jsx)(A.a,{name:"first_name",control:p,rules:{required:!1},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text",size:"sm",placeholder:j("registerForm.firstNameOptional"),isInvalid:!!y.first_name},t))}})}),Object(h.jsx)(I.a,{children:Object(h.jsx)(A.a,{name:"last_name",control:p,rules:{required:!1},render:function(e){var t=e.field;return Object(h.jsx)(F.a.Control,Object(k.a)({type:"text",size:"sm",placeholder:j("registerForm.lastNameOptional"),isInvalid:!!y.last_name},t))}})})]})]}),Object(h.jsx)(f.a,{className:"mb-3",variant:"primary",type:"submit",style:{display:"block",width:"100%"},children:j("registerForm.register")}),Object(h.jsx)(F.a.Text,{className:"text-muted mb-0",children:Object(h.jsxs)("p",{className:"text-center",children:[j("registerForm.alreadyHaveAccount")," ",Object(h.jsx)("a",{href:"#",onClick:function(){o(!1),s(!0)},children:j("registerForm.login")})]})})]})})]})};var de=function(e){var t=function(){var e=function(e){var t=null===e||void 0===e?void 0:e.access;if(t){var r=t.split(".");if(r.length>1)return JSON.parse(atob(r[1])).username}},t=Object(n.useState)(function(){var t;if(t="true"===localStorage.getItem("rememberme")?localStorage.getItem("token"):sessionStorage.getItem("token")){var r=JSON.parse(t),n=e(r);return n&&(r.username=n),r}return null}()),r=Object(b.a)(t,2),i=r[0],a=r[1];return{setAuthToken:function(t){if(t){"true"===localStorage.getItem("rememberme")?localStorage.setItem("token",JSON.stringify(t)):sessionStorage.setItem("token",JSON.stringify(t));var r=e(t);r&&(t.username=r)}else localStorage.removeItem("token"),localStorage.removeItem("rememberme"),sessionStorage.removeItem("token");a(t)},authToken:i}}(),r=t.authToken,i=t.setAuthToken,a=Object(n.useState)(window.innerWidth),c=Object(b.a)(a,2),l=c[0],j=c[1],m=Object(n.useState)(!1),p=Object(b.a)(m,2),v=p[0],g=p[1],y=l<=768,k=Object(o.g)(),A=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),n=0;n<r.length;n++){var i=r[n].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}("csrftoken"),F=Object(n.useState)(!1),w=Object(b.a)(F,2),I=w[0],S=w[1],T=Object(n.useState)(!1),M=Object(b.a)(T,2),C=M[0],N=M[1],L=Object(n.useState)("Default"),K=Object(b.a)(L,2),P=K[0],D=K[1],z=Object(n.useState)({}),B=Object(b.a)(z,2),V=B[0],H=B[1],E=Object(n.useState)({}),R=Object(b.a)(E,2),U=R[0],W=R[1],Y=Object(n.useState)({}),q=Object(b.a)(Y,2),J=q[0],Z=q[1],Q=Object(n.useState)([]),X=Object(b.a)(Q,2),_=X[0],$=X[1],ee=Object(n.useState)({}),te=Object(b.a)(ee,2),re=te[0],ne=te[1],ie=Object(n.useState)({minDate:"",maxDate:""}),ae=Object(b.a)(ie,2),oe=ae[0],de=ae[1],ue=Object(n.useState)({}),be=Object(b.a)(ue,2),je=be[0],me=be[1],pe=Object(n.useState)({visible:!1,position:{},isMobile:!1}),ve=Object(b.a)(pe,2),fe=ve[0],Oe=ve[1],he=Object(n.useState)(!y),xe=Object(b.a)(he,2),ge=xe[0],ye=xe[1],ke=Object(n.useState)(!1),Ae=Object(b.a)(ke,2),Fe=Ae[0],we=Ae[1],Ie=Object(n.useState)("filter"),Se=Object(b.a)(Ie,2),Te=Se[0],Me=Se[1],Ce=Object(n.useState)(!1),Ne=Object(b.a)(Ce,2),Le=Ne[0],Ke=Ne[1],Pe=Object(n.useState)(!1),De=Object(b.a)(Pe,2),ze=De[0],Ge=De[1],Be=Object(n.useState)(!1),Ve=Object(b.a)(Be,2),He=Ve[0],Ee=Ve[1],Re=Object(n.useState)(!1),Ue=Object(b.a)(Re,2),We=Ue[0],Ye=Ue[1],qe=Object(O.a)().t,Je=[];function Ze(){j(window.innerWidth)}Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://smartcitykey.com/api/","dictionary/roadaccident/maneuvers"),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,H(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://smartcitykey.com/api/","dictionary/roadaccident/typeviolations"),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,W(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://smartcitykey.com/api/","dictionary/roadaccident/violators"),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,Z(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t(),n();var i=document.cookie.split("; ").find((function(e){return e.startsWith("mapname=")}));return i&&D(i.split("=")[1]),r&&function(){var e={token:r.access},t="".concat("https://smartcitykey.com/api/","token/verify/"),n=new Headers;n.append("Content-type","application/json"),n.append("X-CSRFToken",A),fetch(t,{method:"POST",headers:n,body:JSON.stringify(e)}).then((function(e){e.status>=400?e.json().then((function(e){console.log(">= 400",e),_e(r.refresh)})):e.json().then((function(e){console.log("ok",e)}))}))}(),g(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)),window.addEventListener("resize",Ze),function(){window.removeEventListener("resize",Ze)}}),[]),Object(n.useEffect)((function(){Qe()}),[k]),Object(n.useEffect)((function(){var e=setInterval((function(){r&&_e(r.refresh)}),24e4);return function(){return clearInterval(e)}}),[r]);var Qe=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,n,i,a,c,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://smartcitykey.com/api/","roadaccident/").concat(k.cityName,"/accidents/"),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,i="2100-01-01",a="1970-01-01",c=Object(s.a)(n.features);try{for(c.s();!(o=c.n()).done;)l=o.value,console.log(l),l.properties.datetime>a&&(a=l.properties.datetime),l.properties.datetime<i&&(i=l.properties.datetime)}catch(d){c.e(d)}finally{c.f()}de({minDate:i.slice(0,10),maxDate:a.slice(0,10)}),$(n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Xe(e,t,n){var i=new Headers;i.append("Content-type","application/json"),i.append("X-CSRFToken",A),(null===r||void 0===r?void 0:r.access)&&i.append("Authorization","Bearer "+r.access),fetch(e,{method:t,headers:i,body:JSON.stringify(n)}).then((function(e){e.status>=400?e.json().then((function(t){alert(e.statusText+" ("+e.status+")\n\n"+t.detail)})):e.json().then((function(e){console.log(e),Qe(),Oe({visible:!1,position:{}}),Me("filter"),we(!1)}))}))}return Object(h.jsxs)("div",{className:"main-wrapper",children:[Object(h.jsx)("div",{id:"app",children:Object(h.jsxs)("div",{className:"d-flex ".concat(ge?"showed":"hided"),id:"wrapper",children:[Object(h.jsx)(G,{onSubmitFilter:function(e){Je=[],ne(e),y&&ye(!1)},onSubmitAccident:function(e){var t,r;console.log("onSubmitAccident",e),e.id?(r="".concat("https://smartcitykey.com/api/","roadaccident/").concat(k.cityName,"/accidents/").concat(e.id,"/"),t="PUT"):(r="".concat("https://smartcitykey.com/api/","roadaccident/").concat(k.cityName,"/accidents/"),t="POST"),Xe(r,t,e),y&&ye(!1)},onDeleteAccident:function(e){Xe("".concat("https://smartcitykey.com/api/","roadaccident/").concat(k.cityName,"/accidents/").concat(e,"/"),"DELETE")},onCloseAccident:function(){Oe({visible:!1,position:{}}),Me("filter"),we(!1)},minMaxDateData:oe,dataAccidentForm:je,showAccidentTab:Fe,activeTabKey:Te,setActiveTabKey:Me,newMarkerState:fe,dictManeuvers:V,dictTypeViolations:U,dictViolators:J,currentCity:k.cityName}),Object(h.jsxs)("div",{id:"page-content-wrapper",children:[Object(h.jsx)(x,{currentCity:k.cityName,onClickShowMenu:function(){return ye(!ge)},authToken:r,setLoginModalShow:S,setAuthToken:i,appname:"roadaccident"}),Object(h.jsxs)("div",{className:"container-fluid",style:{paddingRight:"0px",paddingLeft:"0px"},children:[Object(h.jsx)(ce,{mapBaseLayerName:P,dataAccidents:_,dataHeatmapPoints:Je,currentCity:k.cityName,checkButtonNewMarker:Le,checkButtonHeatmap:ze,checkButtonGPS:He,onClickNewMarker:function(e){Ke(e),v&&e&&(Oe({visible:!0,position:{lat:0,lng:0}}),Ye(!0))},onClickHeatmap:function(e){console.log("onClickHeatmap",e),D(e?"Dark":"Default"),Ge(e)},onClickGPS:function(e){Ee(e)},onClickMap:function(e){if(Le&&!v){Ke(!1);var t={lat:0,lng:0};t.lat=e.latlng.lat.toFixed(5),t.lng=e.latlng.lng.toFixed(5),Oe({visible:!0,position:t}),we(!0),Me("accident")}},onMarkerClick:function(e){we(!0),Me("accident"),me(e),ye(!0)},newMarkerState:fe,onDragEndNewMarker:function(e){},filterMapCallback:function(e,t){var r,n,i=!0,a=!0,c=!0,o=!0,s=!0,l=!0,d=!0,u=!0,b=!0,j=!0,m=!0,p=!0,v=!0,f=!0,O=!0,h=!0,x=!0,g=!0,y=!0;((n=null===re||void 0===re?void 0:re.dateFromFilter)&&(i=e.properties.datetime.split("T")[0]>=n),(n=null===re||void 0===re?void 0:re.dateToFilter)&&(a=e.properties.datetime.split("T")[0]<=n),(n=null===re||void 0===re||null===(r=re.maneuverFilter)||void 0===r?void 0:r.value)&&(c=n===e.properties.maneuver),(n=null===re||void 0===re?void 0:re.descFilter)&&-1===e.properties.description.toLowerCase().indexOf(n.toLowerCase())&&(o=!1),n=null===re||void 0===re?void 0:re.violationsTypeFilter,Array.isArray(n))&&(s=n.filter((function(t){return e.properties.violations_type.includes(String(t.value))})).length>0);(n=null===re||void 0===re?void 0:re.violatorsFilter,Array.isArray(n))&&(l=n.filter((function(t){return e.properties.violators.includes(String(t.value))})).length>0);(n=null===re||void 0===re?void 0:re.driverInjuredFilter)&&(d=e.properties.drivers_injured>0),(n=null===re||void 0===re?void 0:re.motorcyclistInjuredFilter)&&(u=e.properties.motorcyclists_injured>0),(n=null===re||void 0===re?void 0:re.cyclistInjuredFilter)&&(b=e.properties.cyclists_injured>0),(n=null===re||void 0===re?void 0:re.pedestrianInjuredFilter)&&(j=e.properties.ped_injured>0),(n=null===re||void 0===re?void 0:re.kidsInjuredFilter)&&(m=e.properties.kids_injured>0),(n=null===re||void 0===re?void 0:re.pubtrPassengersInjuredFilter)&&(p=e.properties.pubtr_passengers_injured>0),(n=null===re||void 0===re?void 0:re.driversKilledFilter)&&(v=e.properties.drivers_killed>0),(n=null===re||void 0===re?void 0:re.motorcyclistsKilledFilter)&&(f=e.properties.motorcyclists_killed>0),(n=null===re||void 0===re?void 0:re.cyclistsKilledFilter)&&(O=e.properties.cyclists_killed>0),(n=null===re||void 0===re?void 0:re.pedestrianKilledFilter)&&(h=e.properties.ped_killed>0),(n=null===re||void 0===re?void 0:re.kidsKilledFilter)&&(x=e.properties.kids_killed>0),(n=null===re||void 0===re?void 0:re.pubtrPassengersKilledFilter)&&(g=e.properties.pubtr_passengers_killed>0),(n=null===re||void 0===re?void 0:re.publicTransportInvolvedFilter)&&(y=e.properties.public_transport_involved>0);var k=i&&a&&c&&o&&s&&l&&d&&u&&b&&j&&m&&p&&v&&f&&O&&h&&x&&g&&y&&!0;return k&&Je.push([e.properties.latitude,e.properties.longitude,.1]),k},onBaselayerchange:function(e){document.cookie="mapname="+e.name},setNewMarkerState:Oe,isMobileDevice:v,showOkCancelMobileMarker:We,setCheckButtonGPS:Ee,showSidebar:ge}),We&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.a,{variant:"success",id:"doneEditMarkerMobile",onClick:function(){Ke(!1),Ye(!1),we(!0),Me("accident"),ye(!0)},children:qe("words.done")})," ",Object(h.jsx)(f.a,{variant:"secondary",id:"cancelMarkerMobile",onClick:function(){Oe({visible:!1,position:{lat:0,lng:0}}),Ye(!1),Ke(!1)},children:"\u2715"})," "]})]})]})]})}),Object(h.jsx)(se,{setAuthToken:i,show:I,setLoginModalShow:S,setRegisterModalShow:N,onHide:function(){return S(!1)}}),Object(h.jsx)(le,{setAuthToken:i,show:C,setRegisterModalShow:N,setLoginModalShow:S,onHide:function(){return N(!1)}})]});function _e(e){var t=new Headers;t.append("Content-type","application/json"),t.append("X-CSRFToken",A),fetch("".concat("https://smartcitykey.com/api/","token/refresh/"),{method:"POST",headers:t,body:JSON.stringify({refresh:e})}).then((function(e){200==e.status?e.json().then((function(e){i(e)})):e.status>=400&&i(null)}))}},ue=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,198)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),i(e),a(e),c(e)}))},be=r(123),je=r(90),me=r(136),pe=r(137),ve=r(138);be.a.use(me.a).use(je.e).init({resources:{en:{translation:pe},bg:{translation:ve}},fallbackLng:"en",interpolation:{escapeValue:!1}});be.a,r(179);a.a.render(Object(h.jsx)(c.a,{basename:"/roadaccident",children:Object(h.jsx)(o.c,{children:Object(h.jsx)(o.a,{path:"/",element:Object(h.jsx)(de,{}),children:Object(h.jsx)(o.a,{path:":cityName",element:Object(h.jsx)(de,{}),children:Object(h.jsx)(o.a,{path:":accidentId",element:Object(h.jsx)(de,{})})})})})}),document.getElementById("root")),ue()}},[[180,1,2]]]);
//# sourceMappingURL=main.dc4c537e.chunk.js.map